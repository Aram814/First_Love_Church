<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Members - Women's Fellowship</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
    .profile-card {
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .profile-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, createContext, useContext } = React;
    const { createClient } = supabase;

    // Define the colors and styles
    const tailwindColors = {
      'bg-color': '#f5f2ed',
      'card-bg-light': '#e9e2d0',
      'card-bg-dark': '#3a2f2f',
      'text-color': '#2b2b2b',
      'primary-color': '#caa72d',
      'secondary-color': '#b83b3b',
      'footer-color': '#045f5f',
      'button-bg': '#b83b3b',
      'button-hover': '#922a2a',
      'shadow': 'rgba(0,0,0,0.1)',
      'prayer-color': '#fbc02d',
      'provision-color': '#d9c9b6',
      'event-color': '#e0a399',
      'update-color': '#045f5f',
    };

    // --- Contexts for Accessibility and UI State ---
    const FontSizeContext = createContext();
    const ThemeContext = createContext();

    // Supabase client initialization
    // IMPORTANT: Replace with your actual Supabase URL and key
    const supabaseUrl = 'https://btercxzikklbkjpltoey.supabase.co';
    const supabaseAnonKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ0ZXJjeHppa2tsYmtqcGx0b2V5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYwMDU5NjksImV4cCI6MjA3MTU4MTk2OX0.o0iUcb89y0TaN2-ze0cEFxljCt-tsZmbrZDl8NnEGfc';
    const isSupabaseConfigValid = supabaseUrl !== 'YOUR_SUPABASE_URL' && supabaseAnonKey !== 'YOUR_SUPABASE_ANON_KEY';
    const supabaseInstance = isSupabaseConfigValid ? createClient(supabaseUrl, supabaseAnonKey) : null;

    // Dummy member data - now with a 'type' for colored frames
    const dummyMembers = [
      { id: 1, name: "Erica", phone: "(352) 844-1777", email: "Grandma87654@gmail.com", extra_details: "N/A", type: 'Music'},
      { id: 2, name: "Kathryn Kerbo", phone: "(352) 286-7843", email: "kaykaerbo@yahoo.com", extra_details: "Pet Sitting", type: 'Bible Study'},
      { id: 3, name: "Stephanie Cunningham", phone: "(352) 320-696", email: "scunningham1234@gmail.com", extra_details: "N/A", type: 'Hospitality'},
      { id: 4, name: "Ruth Carroll", phone: "(352) 895-3796", email: "carrollruth@gmail.com", extra_details: "N/A", type: 'Intercessory'},
      { id: 5, name: "Barbara Fortin", phone: "(352) 425-4525", email: "rbfortin@outlook.com", extra_details: "N/A", type: 'Music'},
      { id: 6, name: "Jennifer Thomas", phone: "(207) 249-0230", email: "jennythomas1729@gmail.com", extra_details: "Death Doula, Grief counseling/assistance, Notary", type: 'Bible Study'},
      { id: 7, name: "Amanda Ramirez", phone: "(727) 294-2225", email: "arramirez814@gmail.com", extra_details: "Computer/Cell phone assistance", type: 'Hospitality'},
      { id: 8, name: "Peggy Blue", phone: "(352) 454-3893", email: "bluewing747@gmail.com", extra_details: "Professional organizer/Decorating", type: 'Intercessory'},
      { id: 9, name: "Vickie Barrett", phone: "(352) 282-3893", email: "v120@aol.com", extra_details: "N/A", type: 'Music'},
      { id: 10, name: "Maxine Zick", phone: "(352) 727-8850", email: "zmax1654@gmail.com", extra_details: "N/A", type: 'Bible Study'},
      { id: 11, name: "Barbara Cyrus", phone: "(352) 286-8040", email: "Barbaracyrus@icloud.com", extra_details: "N/A", type: 'Hospitality'},
      { id: 12, name: "Heather Drake", phone: "(352) 427-7369", email: "N/A", extra_details: "N/A", type: 'Intercessory'},
      { id: 13, name: "Sue Belshaw", phone: "(802) 567-8901", email: "carriebeth54@gmail.com", extra_details: "Peer counseling, Biblical counseling", type: 'Music'},
    ];

    // --- Main App Component ---
    function App() {
      const [members, setMembers] = useState(dummyMembers); // Use dummy data initially
      const [isAuthReady, setIsAuthReady] = useState(false);

      // Read initial settings from localStorage or use defaults
      const [fontSizeMultiplier, setFontSizeMultiplier] = useState(() => {
        const savedFontSize = localStorage.getItem('fontSizeMultiplier');
        return savedFontSize ? parseFloat(savedFontSize) : 1;
      });

      const [isDarkMode, setIsDarkMode] = useState(() => {
        const savedDarkMode = localStorage.getItem('isDarkMode');
        return savedDarkMode === 'true';
      });

      // Handle Supabase initialization and authentication
      useEffect(() => {
        if (!isSupabaseConfigValid) {
            console.error("Supabase credentials are not configured.");
            return;
        }

        const { data: authListener } = supabaseInstance.auth.onAuthStateChange((event, session) => {
          setIsAuthReady(true);
        });
        
        return () => {
          if (authListener) {
            authListener.subscription.unsubscribe();
          }
        };
      }, []);

      useEffect(() => {
        // Fetch members from Supabase in the future
        // For now, we'll just use the dummy data
      }, [isAuthReady, isSupabaseConfigValid]);

      useEffect(() => {
        localStorage.setItem('isDarkMode', isDarkMode);
      }, [isDarkMode]);

      useEffect(() => {
        localStorage.setItem('fontSizeMultiplier', fontSizeMultiplier);
      }, [fontSizeMultiplier]);

      const toggleDarkMode = () => {
        setIsDarkMode(!isDarkMode);
      };

      const increaseFontSize = () => {
        setFontSizeMultiplier(prev => Math.min(prev + 0.1, 1.5));
      };

      const decreaseFontSize = () => {
        setFontSizeMultiplier(prev => Math.max(prev - 0.1, 0.7));
      };

      return (
        <ThemeContext.Provider value={{ isDarkMode, toggleDarkMode }}>
          <FontSizeContext.Provider value={{ fontSizeMultiplier, increaseFontSize, decreaseFontSize }}>
            <div
              className={`min-h-screen ${isDarkMode ? 'dark bg-[#2b2b2b] text-white' : 'bg-[#f5f2ed] text-[#2b2b2b]'}`}
            >
              {/* Header Row 1: Logo, Church Name, and Accessibility Buttons */}
              <div className="flex flex-col md:flex-row justify-between items-center p-4 md:p-6 shadow-md" style={{ backgroundColor: tailwindColors['bg-color'] }}>
                <div className="flex items-center space-x-4 mb-4 md:mb-0">
                  <a href="https://www.firstlovechurch.org/" target="_blank" rel="noopener noreferrer">
                    <img
                      src="https://raw.githubusercontent.com/Aram814/First_Love_Church/refs/heads/main/first-love-logo-2017.png"
                      alt="First Love Church Logo"
                      className="h-16 w-16 rounded-full transition-transform duration-200 hover:scale-105"
                    />
                  </a>
                  <h1 className="text-2xl md:text-3xl font-bold" style={{ color: tailwindColors['text-color'] }}>
                    First Love Church
                  </h1>
                </div>
                <div className="flex space-x-2">
                  <button
                    onClick={increaseFontSize}
                    className="p-2 rounded-lg text-sm font-semibold transition-transform duration-200 hover:scale-105"
                    style={{ backgroundColor: tailwindColors['primary-color'], color: tailwindColors['text-color'] }}
                  >
                    A+
                  </button>
                  <button
                    onClick={decreaseFontSize}
                    className="p-2 rounded-lg text-sm font-semibold transition-transform duration-200 hover:scale-105"
                    style={{ backgroundColor: tailwindColors['primary-color'], color: tailwindColors['text-color'] }}
                  >
                    A-
                  </button>
                  <button
                    onClick={toggleDarkMode}
                    className="p-2 rounded-lg text-sm font-semibold transition-transform duration-200 hover:scale-105"
                    style={{ backgroundColor: tailwindColors['primary-color'], color: tailwindColors['text-color'] }}
                  >
                    {isDarkMode ? 'Light Mode' : 'Dark Mode'}
                  </button>
                </div>
              </div>

              {/* Header Row 2: Bulletin Title and Navigation Buttons */}
              <div className="relative w-full flex justify-between items-center p-4 md:px-12 md:py-4 shadow-sm" style={{ backgroundColor: tailwindColors['primary-color'] }}>
                  <h2 className="text-xl font-bold" style={{ color: tailwindColors['text-color'] }}>
                      Women's Fellowship Bulletin
                  </h2>
                  {/* The navigation now only has the Bulletin Board link as requested */}
                  <div
                    className="flex flex-col md:flex-row items-center justify-center md:justify-end gap-4 text-sm font-semibold transition-all duration-300 transform"
                  >
                      <a
                        href="https://aram814.github.io/First_Love_Church/"
                        className="hover:underline transition-transform duration-200 hover:scale-105"
                        style={{ color: tailwindColors['text-color'] }}
                      >
                          Bulletin Board
                      </a>
                  </div>
              </div>

              {/* Main Content Area - Members Gallery */}
              <main className="p-4 md:p-6 max-w-4xl mx-auto">
                <h2 id="members-section" className="text-2xl font-bold mb-6 text-center">Fellowship Members</h2>
                <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                  {members.map(member => (
                    <MemberCard
                      key={member.id}
                      member={member}
                      isDarkMode={isDarkMode}
                      fontSizeMultiplier={fontSizeMultiplier}
                    />
                  ))}
                </div>
              </main>

              {/* Footer */}
              <footer className="w-full text-center p-4 mt-8" style={{ backgroundColor: tailwindColors['footer-color'], color: 'white' }}>
                <p className="text-sm">&copy; 2025 Women's Fellowship.</p>
                <p className="text-sm">&copy; 2000 First Love Church. All rights reserved.</p>
              </footer>
            </div>
          </FontSizeContext.Provider>
        </ThemeContext.Provider>
      );
    }

    // New helper function to get card color based on type
    const getCardColor = (type) => {
      switch (type) {
        case 'Leadership':
          return tailwindColors['prayer-color'];
        case 'Music':
          return tailwindColors['provision-color'];
        case 'Bible Study':
          return tailwindColors['event-color'];
        case 'Hospitality':
          return tailwindColors['secondary-color'];
        case 'Intercessory':
          return tailwindColors['update-color'];
        default:
          return tailwindColors['text-color'];
      }
    };

    function MemberCard({ member, isDarkMode, fontSizeMultiplier }) {
      const cardBg = isDarkMode ? tailwindColors['card-bg-dark'] : tailwindColors['card-bg-light'];
      const textColor = isDarkMode ? 'white' : tailwindColors['text-color'];
      const borderColor = getCardColor(member.type);
      
      return (
        <div
          className="profile-card p-4 rounded-lg shadow-md flex flex-col items-center text-center space-y-3"
          style={{
            backgroundColor: cardBg,
            color: textColor,
            fontSize: `${1 * fontSizeMultiplier}rem`,
            borderColor: borderColor,
            borderWidth: '2px',
          }}
        >
          {/* Removed the photo placeholder as requested */}
          <h3 className="text-xl font-semibold">{member.name}</h3>
          <div className="w-full text-left space-y-2 text-sm pt-2"
            style={{
              borderTop: `1px solid ${isDarkMode ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.1)'}`,
            }}
          >
            <p><span className="font-semibold">Phone:</span> {member.phone}</p>
            <p><span className="font-semibold">Email:</span> {member.email}</p>
            <p><span className="font-semibold">Details:</span> {member.extra_details}</p>
          </div>
        </div>
      );
    }
    
    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>
